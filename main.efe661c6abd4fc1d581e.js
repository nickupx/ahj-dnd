!function(t){function e(e){for(var r,i,c=e[0],d=e[1],s=e[2],u=0,f=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(t[r]=d[r]);for(l&&l(e);f.length;)f.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var d=n[c];0!==o[d]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={0:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var l=d;a.push([122,1]),n()}({121:function(t){t.exports=JSON.parse('[{"id":1,"position":1,"title":"To Do","cards":[{"id":1,"content":"Test","position":1},{"id":2,"content":"Testtest","position":3},{"id":3,"content":"Ыыыыы","position":2},{"id":4,"content":"Testtest...","position":4},{"id":5,"content":"Ыыыыы...","position":6},{"id":6,"content":"Ыыыыы!","position":5}]},{"id":2,"position":2,"title":"In progress","cards":[{"id":7,"content":"Testtest...","position":4},{"id":8,"content":"Ыыыыы...","position":3},{"id":9,"content":"Ыыыыы!","position":1}]},{"id":3,"position":3,"title":"Done","cards":[{"id":10,"content":"Testtest...","position":4},{"id":11,"content":"Ыыыыы...","position":3},{"id":12,"content":"Ыыыыы!","position":1}]}]')},122:function(t,e,n){n(123),t.exports=n(310)},309:function(t,e,n){},310:function(t,e,n){"use strict";n.r(e);var r=n(121);function o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,d=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){d=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cards=r}var e,n,a;return e=t,(n=[{key:"renderColumns",value:function(){var t,e=this,n=document.getElementById("columns-container"),r=o(this.cards);try{var a=function(){var r=t.value,a=document.createElement("div");a.className="column",a.id="column-".concat(r.id),a.dataset.title=r.title,a.innerHTML='\n        <h3 class="column-header">'.concat(r.title,'</h3>\n        <div class="cards-container" id="cards-').concat(r.id,'"></div>\n        <div class="add-link" id="link-').concat(r.id,'">+&nbsp;&nbsp;Add another card</div>\n        <div class="add-form" id="form-').concat(r.id,'">\n          <form name="form-').concat(r.id,'">\n            <textarea placeholder="Enter text..." class="add-input" id="input-').concat(r.id,'"></textarea>\n            <button type="submit" class="add-button" id="button-').concat(r.id,'">Add card</button>\n          </form>\n        </div>\n      '),n.append(a);var i=a.querySelector(".add-link"),c=a.querySelector(".add-input"),d=a.querySelector(".add-button");i.addEventListener("click",(function(){var t,e=document.getElementsByClassName("add-form"),n=document.getElementsByClassName("add-link"),r=o(e);try{for(r.s();!(t=r.n()).done;)t.value.style.display="none"}catch(t){r.e(t)}finally{r.f()}var i,c=o(n);try{for(c.s();!(i=c.n()).done;)i.value.style.display="block"}catch(t){c.e(t)}finally{c.f()}a.querySelector(".add-link").style.display="none",a.querySelector(".add-form").style.display="block",a.querySelector(".add-input").focus()})),c.addEventListener("keyup",(function(t){c.value&&13===t.keyCode&&(e.addCard(r.id,c.value),c.value="")})),d.addEventListener("click",(function(t){t.preventDefault(),c.value&&(e.addCard(r.id,c.value),c.value="")}))};for(r.s();!(t=r.n()).done;)a()}catch(t){r.e(t)}finally{r.f()}}},{key:"updatePositions",value:function(t){var e,n=1,r=o(this.cards[t-1].cards);try{for(r.s();!(e=r.n()).done;)e.value.position=n,n++}catch(t){r.e(t)}finally{r.f()}}},{key:"renderCardsInColumn",value:function(t){var e=this;this.updatePositions(t);var n=document.getElementById("cards-".concat(t));n.innerHTML="";var r=this.cards.filter((function(e){return e.id===t}))[0].cards;r.sort((function(t,e){return t.position-e.position}));var a,i=o(r);try{var c=function(){var r=a.value,o=document.createElement("div");o.className="card",o.innerHTML='\n        <div class="card-content">'.concat(r.content,'</div>\n        <div class="card-closer" data-closer="').concat(r.id,'" data-column="').concat(t,'">&times;</div>\n      ');var i=o.querySelector(".card-closer");i.addEventListener("click",(function(n){e.removeCard(+n.target.dataset.closer,t)})),o.addEventListener("mouseover",(function(){return i.style.visibility="visible"})),o.addEventListener("mouseout",(function(){return i.style.visibility="hidden"})),o.addEventListener("mousedown",(function(t){t.target.classList.add("dragged")})),o.addEventListener("mousemove",(function(t){t.preventDefault(),t.target.style.left="".concat(t.pageX-t.target.offsetWidth/2,"px"),t.target.style.top="".concat(t.pageY-t.target.offsetHeight/2,"px")})),o.addEventListener("mouseup",(function(t){t.preventDefault(),console.log(t.target),t.target.classList.remove("dragged")})),n.append(o)};for(i.s();!(a=i.n()).done;)c()}catch(t){i.e(t)}finally{i.f()}}},{key:"renderAllCards",value:function(){var t,e=o(this.cards);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.renderCardsInColumn(n.position)}}catch(t){e.e(t)}finally{e.f()}}},{key:"addCard",value:function(t,e){var n={id:this.countAllCards()+1,column:t,content:e};this.cards[t-1].cards.push(n),this.renderCardsInColumn(t)}},{key:"countCardsInColumn",value:function(t){var e=this.cards[t-1].cards;return e?e.length:0}},{key:"countAllCards",value:function(){var t,e=0,n=o(this.cards);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.cards.length&&(e+=r.cards.length)}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"removeCard",value:function(t,e){var n=this.cards.filter((function(t){return t.id===e}))[0].cards.filter((function(e){return e.id!=t}));this.cards[e-1].cards=n,this.renderCardsInColumn(e),console.log(this.cards)}}])&&i(e.prototype,n),a&&i(e,a),t}());c.renderColumns(),c.renderAllCards();n(309)}});